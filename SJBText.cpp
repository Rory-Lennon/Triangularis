
#include "Jiki.h"
#include "SJBText.h"

GLuint SJBText::ms_zero_list; // STATIC

GLubyte letters[][11] = 
{
{0xff, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0xff}, // 0
{0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18}, // 1
{0xff, 0xc0, 0xc0, 0xc0, 0xc0, 0xff, 0x03, 0x03, 0x03, 0x03, 0xff}, // 2
{0xff, 0x03, 0x03, 0x03, 0x03, 0xff, 0x03, 0x03, 0x03, 0x03, 0xff}, // 3
{0x18, 0x18, 0x18, 0x18, 0x18, 0xff, 0xd8, 0xd8, 0xc0, 0xc0, 0xc0}, // 4
{0xff, 0x03, 0x03, 0x03, 0x03, 0xff, 0xc0, 0xc0, 0xc0, 0xc0, 0xff}, // 5
{0xff, 0xc3, 0xc3, 0xc3, 0xc3, 0xff, 0xc0, 0xc0, 0xc0, 0xc0, 0xff}, // 6
{0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0xff}, // 7
{0xff, 0xc3, 0xc3, 0xc3, 0xc3, 0xff, 0xc3, 0xc3, 0xc3, 0xc3, 0xff}, // 8
{0x03, 0x03, 0x03, 0x03, 0x03, 0xff, 0xc3, 0xc3, 0xc3, 0xc3, 0xff}, // 9
};

SJBText::SJBText()
{}

SJBText::~SJBText()
{}

void SJBText::print_int(int num, float ras_x, float ras_y)
{
	char str_char, char_num;
	CString str;
	str.Format("%i", num);
	::glRasterPos2f(ras_x, ras_y);

	for(int i = 0; i < str.GetLength(); i++)
	{
		str_char = str[i];
		char_num = atoi(&str_char);
		if((char_num < 10) && (char_num >= 0)) ::glCallList(ms_zero_list + char_num);
	}
}

void SJBText::static_init()
{
   ::glPixelStorei(GL_UNPACK_ALIGNMENT, 1);

   ms_zero_list = ::glGenLists(10);
   for (int i = 0; i < 10; i++) 
	{
      ::glNewList(ms_zero_list + i, GL_COMPILE);
      ::glBitmap(8, 11, 4.0f, 5.0f, 11.0, 0.0, letters[i]);
      ::glEndList();
   }
}



